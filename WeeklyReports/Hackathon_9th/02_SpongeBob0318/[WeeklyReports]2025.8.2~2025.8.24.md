### 姓名
王家宝

### 实习项目
项目二：基于版本面解析和大语言模型的文档翻译能力建设

### 本周工作

1. **优化word格式**

	* 通过将版面解析的json和翻译之后的md结合起来，用block-lable作为标志，对生成的word进行格式上的优化

2. **表格，图片的处理**

	* 拿到pdf转md过程中图片的存储位置和图片比例。和翻译之后的json结合，生成word

	* 通过表格版面解析得到的html，使用Beautifulsoup还原为表格

3. **解决由<code>包围的单元格内容在翻译之后导致的语序混乱问题**

	* 通过将<td>包围的数据和其他文本进行分别的处理，以<td>为最小单位，不再切分，整体翻译
	* 将所有的<td>里的内容组成batch，进行翻译

4. **对翻译后的md进行word的转换**

	* 需要对翻译后的md进行切分，按照原始的页面布局进行分割
	* 插回页眉，页脚，并进行格式的编排


3. **问题疑惑与解答**

	* 表格解析，内容和格式存在问题？

        答：对版面解析和翻译产线进行测试，查看是哪部分导致的结果错误

	* 如何修改prompt？

        答：在chunk_translate中进行debug，查看翻译函数是没有被调用，还是生成prompt的地方有问题

	* 我的结果是1个block，相较于之前方法的多个blocks，会存在什么问题？

        答：对于长文本来说，这可能会导致翻译精度的问题，比如不在同一页的两段翻译之后无法对齐

### 下周工作

1. 测试长文本和多版面的pdf
2. 测试表格解析错误是由版面解析导致，还是翻译产线导致
3. 修改prompt，对输入内容进行切块
4. 完善翻译版md的to_word()

### 导师点评

1. 优先完成pdf转word的工作以及解决<code>包围导致的语序问题
2. 先针对单列文件进行处理，而后是多列页面

